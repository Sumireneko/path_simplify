# path_simplify
Krita plugin for vector path simplify.
(It assumes usage on Krita v5.3.0 and/or v6.0.0) 

About Path Simplify plug-in
---------------------------
#### v0.8
 Tested with Krita v5.3 and v6.0 (PyQT5 and 6 with Python 3.13)
 * In this version support both of PyQt5 and 6 compatibility. 

#### v0.7
Tested with Krita v5.2.14(PyQT5 with Python 3.13)
 * Preliminary PyQt6 compatibility added Updated import logic to support PyQt6 for future Krita 6.x compatibility.
 * Note: PyQt6 functionality has not been tested yet. This change is preparatory and not guaranteed to be stable.
 * Add about window.The window can be invoked by clicking [i] icon.

#### v0.6 and v0.61
It also works when lines and curves segents are mixed (however, the curved parts are converted to lines, so there may be more points than before).
* it can be convert a vector brush path to simply line path (with outline)
* CurvePath and Open Path support. but total points are increase by convert the curve to line segments
* Make no process in the case that a short line path and the caes that zero array length.

#### v0.5
Add Boolean Shortcut buttons in the Docker  
These buttons are shortcut for apply this simplify path plugin after Boolean operation.  
Because in Krita (currently 5.2.5 former),It create a lot of segments with boolean operation of vector pathes.  
The following buttons are available.  
* Unite(with Simplify):Create boolean union of mutiple shapes
* Intersect(with Simplify):Create intersection of mutiple shapes
* Subtract(with Simplify):Subtract multiple objects from the first selected one
* Split(with Simplify):Split shapes with multiple subpaths into multiple shapes

#### v0.4
Keep former selection if replace original  
(The initial shape selection is maintained so you know which shape has been updated.)  
The v0.3 uploaded wrong file positon,so fixed it.  
So removed v0.3 release.  

#### v0.3
The replace option that when finish simplified after, remove Original shape  
Notice dialog (It appear when finish simplified ,and automatically close in 1500 msec after)  

#### v0.2
This plug-in provide simplify for vector path.  
This plugin is used _simplify.py_ (by Omar Estrella) in internal,  
Thanks so much the author for create a usuful code.  

### About
This plugin is good to a shape that has many line segments and points  
for example United shape by Logical Operation(Boolean) or create from selection.  
If work success,it would be append new Vector Layer as contain simplified path data.

* Support Line segement(SVG <path>) shape only 
* For multiple shapes that selected
* For grouped shapes that selected (Simplify them keep groupe )
* Transformed shape
* Shapes that has hole pathes


#### Tolerance value  (**Default**:0.8)  
	Increase this value, effect strongly ,and more simple polygonal result.
 
* **Ineffective**: 0.0 - 0.4  
* **Good result**: 0.5 - 1.0  (Recommend)
* **Polygonalize**: 1.5 - 2.5  
* **Simple N-gon**: 3.0 - 5.0  

#### Quality option  (**Default**:Checked)  
	If it checked,it try to make it as close to the original Shape as possible.
 


### About simplify.py

* The original code created by Omar Estrella 
* It is a simple port of simplify.js by Vladimir Agafonkin [https://github.com/mourner/simplify-js](https://github.com/mourner/simplify-js)
* [https://github.com/omarestrella/simplify.py](https://github.com/omarestrella/simplify.py)
* Lisense: Unlisense

### Usage

Select a shape or multiple shapes in a VectorLayer,and use this.  
This plugin good effect for the shape generated by Logical Operation(Boolean) or a shape converted from Selection.  
(These has enoumous segments and points,so this plugin reduce them)

### A following limitation exist

* Line segement(<path>) only 
* Not support Rectangle,Ellipse Shape
* Not support Spline or Bezier cuver (It can covert to line segments)


### Error dialog

A following Error dialog message If apply  this to the shape that contain Spline or Bezier curve.

=== ERROR : Line segment ONLY support ===  
The shape contain Spline or Bezier curvebr>  
(C,c,S,s,Q,q,T,t,H,h,V,v,A,a cmds in data)  
Please the segments change curve to line   

> 1.  Switch to "Edit Shapes Tool",  
> 2.  Select all segment(points) in the shape  
> 3.  Do "Segment to Line" command/button  
>
>         (from RMB menu or Tool Options Docker)  
>
 So it will works.  
